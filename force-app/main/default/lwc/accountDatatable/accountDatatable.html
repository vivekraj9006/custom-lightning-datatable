<template>
  <lightning-card>
    <template if:false={isLoading}>
      <div class="slds-m-around_medium">
          <lightning-spinner
              alternative-text="Loading..." 
              variant="brand">
          </lightning-spinner>
        </div>
      </template>
      <div class="slds-var-m-around_medium">
      <div class="slds-grid slds-wrap">
        <div class="slds-size_2-of-12">
            <lightning-combobox label="Fields" value={FieldsValue} placeholder="Select Field"
                options={FieldsOptions} onchange={handleChangeFields}>
            </lightning-combobox>
        </div>
        <div class="slds-size_2-of-12 slds-var-p-left_x-small">
            <lightning-input type="search" onchange={handleKeyChange} class="slds-var-m-bottom_small"
                label="Search" value={searchKey}>
            </lightning-input>
        </div>
        <div class="slds-size_2-of-12 slds-var-p-left_x-small">
            <lightning-input type="text" label="Text to Replace" onchange={handelonchange} value={replacetext}>
            </lightning-input>
        </div>
        <div class="slds-size_6-of-12 slds-var-p-top_large slds-wrap slds-grid slds-grid_align-end">
            <div class="slds-var-p-left_x-small">
                <lightning-button label="Replace" onclick={handleReplace}>
                </lightning-button>
            </div>
            <div class="slds-var-p-left_xx-small">
                <c-filter fileds-list={fieldOptionJSON} onfiltercriteriachange={filterCriteriaChange}
                    ontakeactionchnage={takeactionChnage}>
                </c-filter>
            </div>
            <div class="slds-var-p-left_x-small">
              <lightning-button  
                  label="Add" 
                  onclick={addRow}>
              </lightning-button>
             </div>
        </div>
    </div>
  </div>
    <div class="slds-m-around_medium">
      <c-extended-data-table
        key-field="Id"
        data={allData}
        columns={columns}
        hide-checkbox-column
        draft-values={draftValues}
        onsave={handleSave}
        oncellchange={handleCellChange}
        onpicklistchanged={picklistChanged}>
      </c-extended-data-table>
    </div>
  </lightning-card>
</template>